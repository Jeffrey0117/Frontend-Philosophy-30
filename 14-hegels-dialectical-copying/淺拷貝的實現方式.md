#淺拷貝的實現方式

在 JavaScript 中，我們經常需要將物件或陣列複製一份，這時候就需要使用到拷貝。拷貝分為淺拷貝和深拷貝，這兩者的差別在於，淺拷貝只會拷貝物件或陣列的第一層資料，而深拷貝則會將物件或陣列的所有資料完整的拷貝一份。今天我們就來談談淺拷貝的實現方式。

## 什麼是淺拷貝

淺拷貝（Shallow Copy）是指只拷貝物件的第一層資料，如果物件裡面還有物件或陣列，則只會拷貝其參考，並不會拷貝其真實的值。這麼說可能有點抽象，讓我們透過程式碼來解釋。

```javascript
let obj1 = {
  a: 1,
  b: [1, 2, 3],
  c: {d: 4}
};

let obj2 = {...obj1};  // 使用ES6的展開運算符進行淺拷貝
obj2.a = 2;  // 修改obj2的a屬性
obj2.b.push(4);  // 修改obj2的b屬性
obj2.c.d = 5;  // 修改obj2的c屬性

console.log(obj1.a);  // 輸出 1
console.log(obj1.b);  // 輸出 [1, 2, 3, 4]
console.log(obj1.c.d);  // 輸出 5
```

從上面的程式碼可以看出，雖然我們只修改了 `obj2` 的內容，但 `obj1` 的 `b` 和 `c` 屬性也跟著變了。這是因為在淺拷貝的過程中，只拷貝了 `b` 和 `c` 屬性的參考，而非真實的值，所以當我們修改 `obj2` 的 `b` 和 `c` 屬性時，`obj1` 的 `b` 和 `c` 屬性也會跟著改變。這就是淺拷貝的特性。

## 如何實現淺拷貝

在 JavaScript 中，實現淺拷貝的方式有很多，以下我們介紹幾種常見的方式：

1. 使用 `Object.assign()` 函數

```javascript
let obj1 = {a: 1, b: 2};
let obj2 = Object.assign({}, obj1);
```

2. 使用展開運算符 `...`

```javascript
let obj1 = {a: 1, b: 2};
let obj2 = {...obj1};
```

3. 使用 Array 的 `slice()` 或 `concat()` 方法（適用於陣列）

```javascript
let arr1 = [1, 2, 3];
let arr2 = arr1.slice();
let arr3 = [].concat(arr1);
```

以上就是 JavaScript 中實現淺拷貝的幾種方式，大家可以根據自己的需求選擇使用。

## 總結

淺拷貝是一種常用的程式技巧，但在使用時也需要注意其特性，以免出現不預期的結果。希望這篇文章能幫助大家更好的理解淺拷貝，並能在實際開發中靈活運用。