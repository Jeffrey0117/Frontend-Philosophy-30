# 前端工程師的執行效能優化實戰

在現代的網頁開發中，性能是一個不容忽視的重要議題。一個載入迅速、反應靈敏的網頁可以大大提升用戶體驗，反之，如果網頁反應遲緩，載入時間過長，則可能導致用戶流失。而要如何優化我們的網站效能呢？本文將會介紹一些前端工程師常用的執行效能優化技巧。

## 減少HTTP請求

每一個HTTP請求都會消耗瀏覽器的資源，並且增加網頁載入的時間。因此，我們應該儘可能地減少HTTP請求的數量。例如，我們可以將多個CSS或JavaScript檔案合併成一個檔案，或者使用CSS sprite技術來合併多個圖片。

```javascript
// Bad
import { ComponentA } from './ComponentA';
import { ComponentB } from './ComponentB';
import { ComponentC } from './ComponentC';

// Good
import { ComponentA, ComponentB, ComponentC } from './components';
```

## 利用瀏覽器快取

瀏覽器快取可以幫助我們儲存已經載入過的資源，當下次訪問相同的網頁時，瀏覽器可以直接從快取中讀取資源，而不需要再次發送HTTP請求。我們可以透過設定HTTP標頭來控制瀏覽器的快取行為。

```javascript
// Set Cache-Control header
res.setHeader('Cache-Control', 'public, max-age=31557600');
```

## 延遲載入

延遲載入是一種常見的優化技巧，它可以讓我們將不需要立即顯示的資源延遲到後面再載入。例如，我們可以將圖片或影片設定為當用戶滾動到可視範圍時才開始載入。

```javascript
// Lazy loading images
<img data-src="image.jpg" class="lazyload">

<script>
  document.addEventListener("DOMContentLoaded", function() {
    var lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

    if ("IntersectionObserver" in window) {
      let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            let lazyImage = entry.target;
            lazyImage.src = lazyImage.dataset.src;
            lazyImage.classList.remove("lazy");
            lazyImageObserver.unobserve(lazyImage);
          }
        });
      });

      lazyImages.forEach(function(lazyImage) {
        lazyImageObserver.observe(lazyImage);
      });
    }
  });
</script>
```

## 縮小檔案

縮小檔案是一種將CSS、JavaScript等檔案的大小縮小的技術，它可以幫助我們減少資料的傳輸量，並且加快網頁的載入速度。縮小檔案通常包括移除空白字元、註解、縮短變數名稱等步驟。

```bash
# Minify CSS
uglifycss styles.css > styles.min.css

# Minify JavaScript
uglifyjs script.js -o script.min.js
```

以上就是一些常見的前端執行效能優化的技巧，我們可以根據實際的需求來選擇適合的優化策略。優化網頁效能需要深入了解瀏覽器的運作原理，並且持續學習新的優化技術。希望本文能對你有所幫助，讓我們一起創造更好的網頁體驗！