# 高效能選擇器的最佳實踐

在前端開發中，我們常常需要透過 CSS 選擇器來定義元素的樣式。然而，選擇器的效能與其寫法有著密切的關係。在本篇文章中，我將與大家分享如何撰寫高效能的 CSS 選擇器。

## 避免過度指定

在撰寫 CSS 選擇器時，我們常常會被誘導去寫出過於詳細的選擇器，例如：

```css
body div.header ul.nav li a.button {...}
```

這種選擇器雖然能準確選取到目標元素，但同時也對瀏覽器造成了不必要的壓力。因為瀏覽器在解析 CSS 選擇器時，是從右至左的順序進行。所以在上述的範例中，瀏覽器會先找出所有的 `.button`，再逐步篩選出符合其他條件的元素。

我們可以將上述的選擇器簡化為：

```css
.button {...}
```

這樣就能大幅提升選擇器的效能。

## 盡量使用 class 選擇器

在 CSS 選擇器中，ID 選擇器的優先級是最高的，其次是 class 選擇器，最後才是元素選擇器。然而，這並不代表我們應該盡量使用 ID 選擇器。

因為 ID 選擇器的優先級非常高，所以一旦使用了，我們就很難再透過其他選擇器來覆寫其樣式。另外，一個頁面中同一個 ID 只能出現一次，這也限制了其使用的場景。

相較之下，class 選擇器的優先級適中，且可以重複使用，所以是最適合大部分情況的選擇器。

## 使用屬性選擇器來選取特定元素

CSS 也提供了屬性選擇器，讓我們可以選取具有特定屬性的元素。例如：

```css
input[type="text"] {...}
```

這個選擇器會選取所有 type 屬性為 "text" 的 input 元素。

雖然屬性選擇器的效能較 class 選擇器差一些，但在特定情況下，它可以讓我們更精準地選取到目標元素。

## 總結

在撰寫 CSS 選擇器時，我們應該以效能為首要考量。避免過度指定，盡量使用 class 選擇器，並在需要的時候使用屬性選擇器。這樣，我們不僅可以提升選擇器的效能，也能讓我們的 CSS 代碼更加清晰和易於維護。