# 常見的 z-index 問題與解決方案

## 簡介
在前端開發中，我們會經常遇到元素疊加的情況，這時候就需要用到 CSS 的 `z-index` 屬性。然而，雖然 `z-index` 看似簡單的屬性，卻有許多需要注意的地方。本文將針對 `z-index` 屬性的一些常見問題和相對應的解決方案進行探討。

## 問題一：z-index 沒有作用
許多開發者在使用 `z-index` 時會遇到一個問題，就是分配了 `z-index` 值給元素，但是它似乎沒有起到任何作用。這是因為 `z-index` 只有在元素為定位元素（即 `position` 屬性為 `relative`、`absolute`、`fixed` 或 `sticky`）時才有效。

### 解決方案
如果你發現 `z-index` 沒有起作用，那麼檢查一下該元素的 `position` 屬性是否設定為 `relative`、`absolute`、`fixed` 或 `sticky`。如果沒有，則需要給它設定一個。

```css
.element {
  position: relative;
  z-index: 1;
}
```

## 問題二：z-index 值越大越好嗎？
有些人可能會認為，只要把 `z-index` 值設定得越大，元素就一定會顯示在最上層。但這種想法是錯誤的。因為 `z-index` 並不是越大越好，它會受到堆疊上下文（stacking context）的影響。

### 解決方案
要解決這個問題，首先需要理解什麼是堆疊上下文。簡單來說，堆疊上下文是一種三維的概念，它決定了元素在 z 軸上的疊加順序。一個元素的 z-index 值只有在同一個堆疊上下文中才有效。

所以，如果兩個元素的 `z-index` 值不管如何調整都不起作用，那可能是它們不在同一個堆疊上下文中。

## 總結
在使用 `z-index` 時，我們需要注意兩點：一是 `z-index` 只對定位元素有效；二是 `z-index` 的作用範圍受到堆疊上下文的影響。只有充分理解這兩點，我們才能靈活運用 `z-index`，解決前端開發中的各種疊加問題。