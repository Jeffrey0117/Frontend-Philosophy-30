# JavaScript 型別判斷：你真的了解嗎？

在 JavaScript 的世界中，處理型別與型別轉換是個不可避免的課題。今天，我們就來探討一下 JavaScript 中常見的型別判斷方法，並透過一些實際的程式碼範例來展示它們的使用情境。

## 1. 使用 typeof 運算符

`typeof` 是 JavaScript 中最常見的型別判斷方法。它是一個一元運算符，放置在其單一運算元前，回傳一個表示該運算元型別的字串。以下是一個簡單的例子：

```javascript
console.log(typeof 'Hello, world!'); // "string"
console.log(typeof 123); // "number"
console.log(typeof true); // "boolean"
console.log(typeof undefined); // "undefined"
console.log(typeof {}); // "object"
console.log(typeof null); // "object"
```

但是，使用 `typeof` 有一個常見的陷阱，那就是 `null` 的型別會被判斷為 "object"。這是 JavaScript 的一個歷史遺留問題。

## 2. 使用 instanceof 運算符

`instanceof` 運算符用來測試一個物件在其原型鏈中是否存在一個建構函數的 `prototype` 屬性。以下是一個例子：

```javascript
function Car(make, model, year) {
  this.make = make;
  this.model = model;
  this.year = year;
}

let mycar = new Car('Eagle', 'Talon TSi', 1993);
let a = mycar instanceof Car;  // 回傳 true
let b = mycar instanceof Object;  // 回傳 true
```

在這個例子中，`mycar` 是 `Car` 和 `Object` 的實例，所以 `instanceof` 運算符回傳 `true`。

## 3. 使用 constructor 屬性

每個 JavaScript 物件都有一個 `constructor` 屬性，指向建立該物件的函數。可以利用這個屬性來判斷物件的型別。以下是一個例子：

```javascript
let o = {};
console.log(o.constructor === Object); // true

let a = [];
console.log(a.constructor === Array); // true
```

但請注意，這種方法並不完全可靠，因為 `constructor` 屬性是可以被改變的。

## 結語

這裡介紹了幾種 JavaScript 中常見的型別判斷方法，包括 `typeof` 運算符，`instanceof` 運算符，以及 `constructor` 屬性。希望這篇文章能幫助你更好地理解 JavaScript 的型別系統。然而，請記住，這些方法都有其限制和陷阱，使用時必須謹慎。