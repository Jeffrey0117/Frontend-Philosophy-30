# 進一步理解 script 標籤的載入時機：實際應用場景比較

在前端開發中，我們經常需要使用 `script` 標籤來載入並執行 JavaScript 程式碼。然而，這個標籤的載入時機可以由我們自己決定，並且會直接影響到我們應用程式的運行效率。今天，我們就來深入探討一下 `script` 標籤的載入時機，並透過實際的應用場景來進行比較。

## `script` 標籤的載入時機

在 HTML 文件中，我們通常可以在兩個地方看到 `script` 標籤：`<head>` 和 `<body>` 的末尾。這是因為 `script` 標籤的載入時機，依賴於它在 HTML 文件中的位置。

若我們將 `script` 標籤放在 `<head>` 中，那麼這個標籤將在頁面的其他元素載入之前被載入並執行。這表示，如果你的 JavaScript 程式碼需要操作頁面的某些元素，那麼你可能會遇到這些元素尚未被載入的問題。

相反地，如果我們將 `script` 標籤放在 `<body>` 的末尾，那麼這個標籤將在頁面的其他元素載入之後被載入並執行。這表示，你的 JavaScript 程式碼將可以安全地操作頁面的所有元素。

## 實際應用場景比較

那麼，我們應該在哪裡放置 `script` 標籤呢？這完全取決於你的實際需求。下面，我們來看幾個實際的應用場景。

### 场景一：使用 jQuery 操作 DOM

在這個場景中，我們需要使用 jQuery 來操作頁面的 DOM 元素。由於 jQuery 需要等待 DOM 完全載入後才能工作，因此，我們必須將 `script` 標籤放在 `<body>` 的末尾。

```html
<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
</head>
<body>
    <h1 id="title">Hello, world!</h1>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#title').text('Hello, jQuery!');
        });
    </script>
</body>
</html>
```

### 场景二：使用 Google Analytics

在這個場景中，我們需要使用 Google Analytics 來追蹤我們的網站流量。由於 Google Analytics 的程式碼需要在頁面載入之初就開始運行，因此，我們將 `script` 標籤放在 `<head>` 中。

```html
<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'GA_TRACKING_ID');
    </script>
</head>
<body>
    <h1>Hello, world!</h1>
</body>
</html>
```

## 結語

總的來說，`script` 標籤的載入時機取決於你的實際需求。你需要根據你的 JavaScript 程式碼是否需要操作頁面的元素，以及是否需要在頁面載入之初就開始運行，來選擇將 `script` 標籤放在 `<head>` 或 `<body>` 的末尾。希望透過這篇文章，你已經對 `script` 標籤的載入時機有了更深的理解。