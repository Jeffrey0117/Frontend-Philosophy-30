# 效能優化建議：淺談網頁載入速度與 JavaScript

在這個網頁快速載入的時代，JavaScript 是前端開發中必不可少的一部分。然而，JavaScript 的載入與執行可能會影響到網頁的載入速度。本文將深入探討如何優化 JavaScript 的載入與執行，以提升網頁的效能。

## JavaScript 載入的影響

當瀏覽器讀取 HTML 文件並遇到 `<script>` 標籤時，它將停止 HTML 的解析，並開始載入指定的 JavaScript 檔案。只有在 JavaScript 檔案完全載入並執行完畢後，才會繼續解析 HTML。這就是所謂的「阻塞行為」。

例如：

```html
<!DOCTYPE html>
<html>
<body>
    <p>Hello World</p>
    <script src="myScript.js"></script>
    <p>The End</p>
</body>
</html>
```

在這個例子中，"The End" 這段文字將不會顯示在 "Hello World" 之後直到 `myScript.js` 載入並執行完畢。

## 非阻塞載入 JavaScript

為了避免 JavaScript 阻塞網頁載入，我們可以使用以下兩種方式：

1. 將 `<script>` 標籤放在 `<body>` 標籤的底部

    這種方式可以確保在 JavaScript 載入並執行之前，HTML 已經被完全解析。

    例如：

    ```html
    <!DOCTYPE html>
    <html>
    <body>
        <p>Hello World</p>
        <p>The End</p>
        <script src="myScript.js"></script>
    </body>
    </html>
    ```

    在這個例子中，無論 `myScript.js` 載入花多少時間，"Hello World" 和 "The End" 都會先顯示出來。

2. 使用 `async` 或 `defer` 屬性

    `async` 和 `defer` 屬性都可以使 JavaScript 非阻塞載入，但有些微的差異。

    * `async`：當設定此屬性後，JavaScript 將在下載後立即執行，但可能導致 HTML 解析中斷。
    * `defer`：當設定此屬性後，JavaScript 將在整個頁面解析完成後才執行。

    例如：

    ```html
    <!DOCTYPE html>
    <html>
    <body>
        <p>Hello World</p>
        <script async src="myScript.js"></script>
        <p>The End</p>
    </body>
    </html>
    ```

    ```html
    <!DOCTYPE html>
    <html>
    <body>
        <p>Hello World</p>
        <script defer src="myScript.js"></script>
        <p>The End</p>
    </body>
    </html>
    ```

透過上述的方式，我們可以大大提升網頁的載入速度，從而提供更好的使用者體驗。未來在開發網頁時，不妨考慮將這些技巧運用到實際的開發中，以優化網頁的效能。