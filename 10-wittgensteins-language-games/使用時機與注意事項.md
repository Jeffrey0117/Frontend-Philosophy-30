# 函式表達式的使用時機與注意事項

在JavaScript的世界裡，函式是一等公民，這不僅意味著函式可以像其他對象一樣被賦值，傳遞，還表示了函式的多樣性與靈活性。函式表達式(Function Expression)與函式聲明(Function Declaration)是我們常用的兩種函式定義方式，各有其用武之地。在本篇文章中，我們將一起探討函式表達式的使用時機與注意事項，帶你深入理解這個JavaScript的基礎概念。

## 函式表達式的基本語法
首先，讓我們來看一下函式表達式的基本語法。函式表達式實際上就是將一個函式賦值給一個變數，如下所示：

```javascript
var myFunction = function() {
    console.log('Hello, World!');
};
```
在這個例子中，我們定義了一個名為 `myFunction` 的變數，並將一個函式賦值給它。這就是一個最基本的函式表達式。

## 使用時機
函式表達式的一個特點是，它們是在運行時進行賦值的，這給我們提供了很大的靈活性。這意味著，我們可以根據程序的需要來動態地創建函式。例如，我們可以在一個條件語句中使用函式表達式：

```javascript
var myFunction;

if (userLoggedIn) {
    myFunction = function() {
        console.log('Hello, User!');
    };
} else {
    myFunction = function() {
        console.log('Hello, Guest!');
    };
}
```
在這個例子中，`myFunction` 的實際定義會根據 `userLoggedIn` 的值來決定。這是函式聲明無法做到的。

## 注意事項
但是，函式表達式也有一些需要注意的地方。首先，由於函式表達式是在運行時進行賦值的，所以如果你在賦值之前就嘗試調用該函式，會導致TypeError的錯誤。例如：

```javascript
myFunction();  // TypeError: myFunction is not a function

var myFunction = function() {
    console.log('Hello, World!');
};
```
這是因為在JavaScript中，變量的聲明會被提升（Hoisting），但函式表達式的賦值不會。所以在賦值之前調用函式會導致錯誤。

另外，函式表達式本身是匿名的，為了方便調試，我們可以給函式表達式提供一個名字。例如：

```javascript
var myFunction = function printHello() {
    console.log('Hello, World!');
};
```
這樣在調試時，我們就可以看到函式的名字 `printHello`，而不是 `anonymous`。

## 總結
函式表達式是JavaScript中一個非常強大的特性，它提供了極大的靈活性，使我們可以根據程序的需要來動態創建函式。但同時，我們也需要注意函式表達式的一些陷阱，比如調用時間的控制以及調試時的函式名稱。希望這篇文章能幫助你更好地理解並使用函式表達式。